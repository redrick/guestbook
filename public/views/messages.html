





<!-- <input type="search" ng-model="q" placeholder="filter messages..." /> -->
<h3 id="messages-title" ng-cloak>{{title}}</h3>

<table id="messages" class="table table-hover">
  <tr><th>guest name</th><th>location</th><th>date</th><th>message</th></tr>
  <tr class="animate-repeat" ng-repeat="message in messages  | orderBy:'id':true | filter:q" ng-cloak>

    <td class="user-name span2">
      <a ng-href="#/users/{{message.user.id}}/messages">{{message.user.name}}</a>
    </td>
    <td class="user-location span2">{{message.user.location}}</td>
    <td class="message-date span3">{{message.created_at | date:'h:mma on M/d'}}</td>
    <td class="content">{{message.content}}</td>
  </tr>
</table>

  <div id="message-pager" class="pagination">
    <ul>
      <li class="previous"><a ng-click="previousPage()" class="fui-arrow-left"></a></li>
      <!-- <li class="active"><a href="#fakelink">1</a></li> -->
      <li ng-repeat="page in pages" ng-class="{active: $index+1 === params.page}"><a ng-click="jumpToPage($index+1)">{{$index+1}}</a></li>
      <li class="next"><a ng-click="nextPage()" class="fui-arrow-right"></a></li>
    </ul>
  </div>


<div modal="creatingMessage" close="closeMessageForm()" options="opts" ng-controller="SessionCtrl">
  <div class="modal-header">
      <h3>Post a Message</h3>
  </div>
  <div class="modal-body">
    <form class="form-horizontal" ng-submit="postMessage()">
      <textarea class="form-control span5" rows="6" required ng-model="new_message.content"></textarea>
    </form>
  </div>

  <div class="modal-footer">
      <button class="btn cancel" ng-click="closeMessageForm()">Cancel</button>
      <button type="submit" class="btn btn-primary" ng-click="postMessage()">Create</button>
  </div>
</div>